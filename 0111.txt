SQL基本操作

库操作：

1、新增数据库（结合文件sql.sql）

  基本语法：create database NAME [库选项];

  库选项：用来约束数据库，分为
    字符集设定：charset  /  character set  具体字符集（常用 GBK 和UTF8）
    校对集： collate 具体校对集（数据比较的规则）

其中：数据库名字不能用关键字和保留字，如果非要使用，必须使用反引号（esc键下面的键在英文状态下的输出输出），中文名字的是可以的，但是必须保证服务器支持，建议不用中文

2、语句执行后，发生了啥

  （1）在数据库系统中，增加了对应的数据库信息
  （2）会在数据保存的文件夹下，data 目录，创建一个同名的文件夹：C:\ProgramData\MySQL\MySQL Server 5.5\data
  （3）每个数据库下都有.opt文件，文件中保存了库选项（即字符集和校对集，字符集改变则校对集一定会改变）

3、查看数据库

（1）查看所有数据库： show databases;（加分号）
（2）查看指定数据库：模糊查询
   show databases like 'pattern';  -- pattern 是匹配模式
    % 表示匹配多个字符
    _  表示匹配单个字符

4、查看数据库的创建语句  show create database NAME;(数据库在执行SQL语句之前会优化SQL，系统保存后的语句是优化后的)
   
5、更新、修改数据库

数据库名字不可以修改（修改以后不安全，初始版本允许，现在不允许），修改仅限库选项：字符集和校对集（校对集依赖字符集）

语法： alter database NAME [库选项];
charset/character set [=] 字符集
collate 校对集

6、删除数据库  
所有操作中删除是最简单对的

drop database NAME;

删除后发生了啥？ （1）数据库内部看不到对应的数据库了（2）对应的数据文件夹删除了，（级联删除：删除了所有的此库中的数据），强烈建议先备份再操作，删除是不可逆的（慎重）







表操作：
表与字段是密不可分的

1、 新增数据表：create table [if not exists] NAME(
字段名字 数据类型,
字段名字 数据类型  -- 最后一行不需要逗号
)[表选项];

其中：if not exists 有检查的功能，
表选项控制表的表现
	字符集： charset/character set 具体字符集; -- 
	校对集：collate 具体校对集;
	存储引擎：engine 具体的存储引擎（innodb(默认的)、myisam）

直接创建表会有错，任何表的设计都必须先指定数据库：

方案一： 显式的指定数据库   create table 数据库名.表名(....);
方案二：隐式的先进入数据库： use 数据库名;（此处可以不加分号，但建议加上）

2、指令执行后发生了啥？
（1）指定数据库下创建了表
（2）对应文件夹下产生对应表的结构文件（和存储引擎有关）

3、查看数据表
数据库查看的方式表都能查看
（1）show tables;
(2)模糊查看部分表：模糊匹配 show tables like 'pattern',(_,%);
(3)查看表的创建语句：show create table student;
(4)查看表中的字段结构信息：desc/describe/show columns from 表名;


4、修改数据表
两部分：修改表本身和修改字段；

修改表本身：表名和表选项
修改表名：rename table 老表名字 to 新表名字
修改表选项：alter table 表名 表选项 [=] 值;


修改字段：新增，修改，重名，删除

新增：alter table 表名 add [column] 字段名 数据类型 [列属性][位置];
位置：first （第一个位置）
      after 字段名 （在哪个字段之后）
      默认 （最后一个位置）

修改字段：
alter table 表名 modify 字段名 数据类型 [属性(是否默认NULL等)][位置];

重命名：alter table 表名 change 旧字段名 新字段名 数据类型 [属性][位置];


删除字段：alter table 表名 drop 字段名;(慎重，不可逆，有数据时记得先备份)




删除数据表（慎重）
drop table 表名1,表名2,....;  -- 可以一次性删除多个表
删除完发生了啥：在表空间中没有了指定的表和数据，文件中对应的表文件也没了





数据的操作：

1、新增：两种方案：
（1）给全表字段插入数据，不需要指定字段列表；要求值出现的顺序一致，非数值数据用引号（建议单引号）
insert into 表名 values(值列表)[,(值列表)]; -- 可以一次性插入多个
（2）给部分字段插入数据，需要选定字段列表，字段列表出现的顺序与字段的顺序无关，但是值列表的顺序必须与选定的字段的顺序一致
insert into 表名 （字段列表）values（值列表）[,(值列表)];

2、查看数据
select */字段列表 from 表名 [where 条件];

3、更新数据
update 表名 set 字段 = 值 [where 条件]; -- 建议都有where,要不就会全部修改
更新不一定成功，比如没有真正要更新的数据（是否成功要看有没有数据 affected）

4、删除数据（不可逆，建议加上条件）
delete from 表名 [where 条件];























